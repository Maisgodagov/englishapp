# –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è —Ç—Ä–∞—Ñ–∏–∫–∞ –≤–∏–¥–µ–æ–ø–ª–µ–µ—Ä–∞

## –û–±–∑–æ—Ä –∏–∑–º–µ–Ω–µ–Ω–∏–π

–í —Ä–∞–º–∫–∞—Ö –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ —Ç—Ä–∞—Ñ–∏–∫–∞ CDN –±—ã–ª–∏ –≤–Ω–µ—Å–µ–Ω—ã —Å–ª–µ–¥—É—é—â–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è:

### 1. –ü–æ–¥–∫–ª—é—á–µ–Ω —Ç—Ä–µ–∫–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö
- ‚úÖ –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω `useVideoDataUsageTracker` –≤ `VideoFeedItem`
- ‚úÖ –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω `useVideoDataUsageTracker` –≤ `VideoLearningSession`
- ‚úÖ –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –±–∏—Ç—Ä–µ–π—Ç–∞ –≤–∏–¥–µ–æ –∏ –∞—É–¥–∏–æ
- ‚úÖ –ü–æ–¥—Å—á–µ—Ç –∑–∞–≥—Ä—É–∂–µ–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
- ‚úÖ –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏—è —Ç—Ä–∞—Ñ–∏–∫–∞ –≤ UI

### 2. –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –±—É—Ñ–µ—Ä–∞

**–ë—ã–ª–æ:**
```typescript
bufferConfig={{
  minBufferMs: 2500,
  maxBufferMs: 8000,  // 8 —Å–µ–∫—É–Ω–¥ - –°–õ–ò–®–ö–û–ú –ú–ù–û–ì–û!
  bufferForPlaybackMs: 1000,
  bufferForPlaybackAfterRebufferMs: 2000,
}}
```

**–°—Ç–∞–ª–æ:**
```typescript
bufferConfig={{
  minBufferMs: 2500,      // –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –±—É—Ñ–µ—Ä –ø–µ—Ä–µ–¥ –Ω–∞—á–∞–ª–æ–º –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è
  maxBufferMs: 6000,      // –£–ú–ï–ù–¨–®–ï–ù–û —Å 8000 –¥–æ 6000 - –º–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π –±—É—Ñ–µ—Ä –¥–ª—è –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏—è –∏–∑–±—ã—Ç–æ—á–Ω–æ–π –∑–∞–≥—Ä—É–∑–∫–∏
  bufferForPlaybackMs: 1000,
  bufferForPlaybackAfterRebufferMs: 2000,
}}
```

### 3. –û–≥—Ä–∞–Ω–∏—á–µ–Ω –º–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π –±–∏—Ç—Ä–µ–π—Ç

–î–æ–±–∞–≤–ª–µ–Ω –ø–∞—Ä–∞–º–µ—Ç—Ä `maxBitRate` –¥–ª—è –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –∫–∞—á–µ—Å—Ç–≤–∞ –∏ —ç–∫–æ–Ω–æ–º–∏–∏ —Ç—Ä–∞—Ñ–∏–∫–∞:

```typescript
<Video
  maxBitRate={2000000}  // –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –¥–æ 2 Mbps (~720p) –¥–ª—è —ç–∫–æ–Ω–æ–º–∏–∏ —Ç—Ä–∞—Ñ–∏–∫–∞
  // ...
/>
```

**–≠–∫–æ–Ω–æ–º–∏—è:** –ü—Ä–∏ —Ç–∏–ø–∏—á–Ω–æ–º HLS —Å –±–∏—Ç—Ä–µ–π—Ç–∞–º–∏ [360p: 500 Kbps, 480p: 1000 Kbps, 720p: 2000 Kbps, 1080p: 4000 Kbps], —ç—Ç–æ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ—Ç –∑–∞–≥—Ä—É–∑–∫—É 1080p, —ç–∫–æ–Ω–æ–º—è ~50% —Ç—Ä–∞—Ñ–∏–∫–∞.

### 4. –†–∞—Å—à–∏—Ä–µ–Ω–æ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

–î–æ–±–∞–≤–ª–µ–Ω—ã –ø–æ–¥—Ä–æ–±–Ω—ã–µ –ª–æ–≥–∏ –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞:

#### –õ–æ–≥–∏ –∂–∏–∑–Ω–µ–Ω–Ω–æ–≥–æ —Ü–∏–∫–ª–∞ –≤–∏–¥–µ–æ:
```
[VideoFeedItem abc12345] üé¨ Render: isActive=true, shouldLoad=true, tabFocused=true
[VideoFeedItem abc12345] üîÑ Content changed - resetting state
[VideoFeedItem abc12345] üëÅÔ∏è shouldLoad changed: true
[VideoFeedItem abc12345] ‚úÖ Video loaded: {...}
[VideoFeedItem abc12345] üì• Buffer START
[VideoFeedItem abc12345] üì• Buffer END
[VideoFeedItem abc12345] üéÆ Playback state: PLAYING
```

#### –õ–æ–≥–∏ —Ç—Ä–µ–∫–µ—Ä–∞ –¥–∞–Ω–Ω—ã—Ö:
```
[DataUsageTracker] üÜï New content: abc12345, resetting stats
[DataUsageTracker] ‚ñ∂Ô∏è Tracking enabled for abc12345

[DataUsage abc12345] üé• Source loaded
  availableVideoTracks: 3
  availableAudioTracks: 1
  selectedVideoBitrateKbps: 1800
  selectedAudioBitrateKbps: 128
  totalBitrateKbps: 1928
  estimatedMBPerMinute: 14.10

[DataUsage abc12345] üì¶ Buffer update
  bufferedSeconds: 6
  currentTime: 2
  playableDuration: 6
  videoBitrateKbps: 1800
  audioBitrateKbps: 128
  totalKbps: 1928
  deltaSeconds: 3.0
  deltaKiloBytes: 723
  bufferAheadSeconds: 4

[DataUsage abc12345] üîÑ Bandwidth update ‚¨áÔ∏è DOWNGRADED
  oldBitrateKbps: 1800
  newBitrateKbps: 1000
  resolution: 854x480
  trackId: 2
  changePercent: -44.4%
```

## –ö–∞–∫ –∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å –ª–æ–≥–∏

### 1. –ü—Ä–æ–≤–µ—Ä–∫–∞ –∏–∑–±—ã—Ç–æ—á–Ω–æ–π –±—É—Ñ–µ—Ä–∏–∑–∞—Ü–∏–∏

**–ß—Ç–æ –∏—Å–∫–∞—Ç—å:**
```
bufferAheadSeconds: 8  // –ü–õ–û–•–û - —Å–ª–∏—à–∫–æ–º –º–Ω–æ–≥–æ –±—É—Ñ–µ—Ä–∞
bufferAheadSeconds: 3  // –•–û–†–û–®–û - –æ–ø—Ç–∏–º–∞–ª—å–Ω–æ
```

–ï—Å–ª–∏ `bufferAheadSeconds` —Ä–µ–≥—É–ª—è—Ä–Ω–æ –ø—Ä–µ–≤—ã—à–∞–µ—Ç 5-6 —Å–µ–∫—É–Ω–¥, –ø–ª–µ–µ—Ä –∑–∞–≥—Ä—É–∂–∞–µ—Ç —Å–ª–∏—à–∫–æ–º –º–Ω–æ–≥–æ –¥–∞–Ω–Ω—ã—Ö –≤–ø—Ä–æ–∫.

### 2. –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–π –∫–∞—á–µ—Å—Ç–≤–∞

**–ß–∞—Å—Ç—ã–µ –ø–æ–Ω–∏–∂–µ–Ω–∏—è –∫–∞—á–µ—Å—Ç–≤–∞:**
```
üîÑ Bandwidth update ‚¨áÔ∏è DOWNGRADED
üîÑ Bandwidth update ‚¨áÔ∏è DOWNGRADED
üîÑ Bandwidth update ‚¨áÔ∏è DOWNGRADED
```
**–ü—Ä–æ–±–ª–µ–º–∞:** –ú–µ–¥–ª–µ–Ω–Ω—ã–π –∏–Ω—Ç–µ—Ä–Ω–µ—Ç –∏–ª–∏ –ø–µ—Ä–µ–≥—Ä—É–∂–µ–Ω–Ω—ã–π CDN.

**–ß–∞—Å—Ç—ã–µ –ø–æ–≤—ã—à–µ–Ω–∏—è/–ø–æ–Ω–∏–∂–µ–Ω–∏—è:**
```
üîÑ Bandwidth update ‚¨ÜÔ∏è UPGRADED
üîÑ Bandwidth update ‚¨áÔ∏è DOWNGRADED
üîÑ Bandwidth update ‚¨ÜÔ∏è UPGRADED
```
**–ü—Ä–æ–±–ª–µ–º–∞:** –ù–µ—Å—Ç–∞–±–∏–ª—å–Ω–æ–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ.

### 3. –†–∞—Å—á–µ—Ç –ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏—è —Ç—Ä–∞—Ñ–∏–∫–∞

**–§–æ—Ä–º—É–ª–∞:**
```
–¢—Ä–∞—Ñ–∏–∫ (MB) = (videoBitrate + audioBitrate) √ó –≤—Ä–µ–º—è (—Å–µ–∫) / 8 / 1024 / 1024
```

**–ü—Ä–∏–º–µ—Ä:**
- –ë–∏—Ç—Ä–µ–π—Ç: 1928 Kbps (1800 –≤–∏–¥–µ–æ + 128 –∞—É–¥–∏–æ)
- –í—Ä–µ–º—è: 60 —Å–µ–∫—É–Ω–¥
- –¢—Ä–∞—Ñ–∏–∫: (1928 √ó 60) / 8 / 1024 = ~14.1 MB/–º–∏–Ω

**–¶–µ–ª–µ–≤—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è:**
- 360p: ~5-8 MB/–º–∏–Ω
- 480p: ~8-12 MB/–º–∏–Ω
- 720p: ~12-18 MB/–º–∏–Ω
- 1080p: ~25-35 MB/–º–∏–Ω

## –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏

### 1. –ü—Ä–µ–¥–∑–∞–≥—Ä—É–∑–∫–∞ —Ç–æ–ª—å–∫–æ –∞–∫—Ç–∏–≤–Ω–æ–≥–æ –≤–∏–¥–µ–æ

–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤–∏–¥–µ–æ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –∫–æ–≥–¥–∞ –æ–Ω–æ –∞–∫—Ç–∏–≤–Ω–æ:

```typescript
const shouldLoad = isActive && isTabFocused;

<Video
  source={shouldLoad ? { uri: videoUrl } : undefined}
  // ...
/>
```

### 2. –û—Å—Ç–∞–Ω–æ–≤–∫–∞ –Ω–µ–∞–∫—Ç–∏–≤–Ω—ã—Ö –≤–∏–¥–µ–æ

```typescript
paused={!isPlaying || !isActive || !isTabFocused}
```

### 3. –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è HLS –Ω–∞ –±—ç–∫–µ–Ω–¥–µ

–ï—Å–ª–∏ –±—ç–∫–µ–Ω–¥ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –ø–æ–¥ –≤–∞—à–∏–º –∫–æ–Ω—Ç—Ä–æ–ª–µ–º, —É–±–µ–¥–∏—Ç–µ—Å—å:

**–°–µ–≥–º–µ–Ω—Ç—ã:**
- –î–ª–∏–Ω–∞ —Å–µ–≥–º–µ–Ω—Ç–∞: 6 —Å–µ–∫—É–Ω–¥ (–æ–ø—Ç–∏–º–∞–ª—å–Ω–æ)
- –§–æ—Ä–º–∞—Ç: `.ts` (Transport Stream)

**–í–∞—Ä–∏–∞–Ω—Ç—ã –∫–∞—á–µ—Å—Ç–≤–∞:**
```
360p: ~500 Kbps
480p: ~1000 Kbps
720p: ~2000 Kbps
(1080p: ~4000 Kbps - –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
```

**–ú–∞—Å—Ç–µ—Ä-–ø–ª–µ–π–ª–∏—Å—Ç:**
```m3u8
#EXTM3U
#EXT-X-VERSION:3
#EXT-X-STREAM-INF:BANDWIDTH=500000,RESOLUTION=640x360
360p.m3u8
#EXT-X-STREAM-INF:BANDWIDTH=1000000,RESOLUTION=854x480
480p.m3u8
#EXT-X-STREAM-INF:BANDWIDTH=2000000,RESOLUTION=1280x720
720p.m3u8
```

### 4. CDN –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ

–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ CDN –ø—Ä–∞–≤–∏–ª—å–Ω–æ –∫—ç—à–∏—Ä—É–µ—Ç —Å–µ–≥–º–µ–Ω—Ç—ã:

**Headers:**
```
Cache-Control: public, max-age=31536000, immutable
```

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏:**
- –°–µ–≥–º–µ–Ω—Ç—ã –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –Ω–µ–∏–∑–º–µ–Ω—è–µ–º—ã–º–∏ (immutable)
- TTL: 1 –≥–æ–¥ –¥–ª—è —Å–µ–≥–º–µ–Ω—Ç–æ–≤
- TTL: 10 –º–∏–Ω—É—Ç –¥–ª—è –ø–ª–µ–π–ª–∏—Å—Ç–æ–≤

## –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞

### 1. –í—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π —Å—á–µ—Ç—á–∏–∫ —Ç—Ä–∞—Ñ–∏–∫–∞

–í UI –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è —Å—á–µ—Ç—á–∏–∫ —Ç—Ä–∞—Ñ–∏–∫–∞:
```
–¢—Ä–∞—Ñ–∏–∫: 15.42 MB
[–°–±—Ä–æ—Å–∏—Ç—å]
```

### 2. React Native Debugger

–û—Ç–∫—Ä–æ–π—Ç–µ –∫–æ–Ω—Å–æ–ª—å –∏ —Ñ–∏–ª—å—Ç—Ä—É–π—Ç–µ –ª–æ–≥–∏:
```
[DataUsage]
[VideoFeedItem]
```

### 3. Network Inspector (Chrome DevTools –¥–ª—è Web)

–î–ª—è Web-–≤–µ—Ä—Å–∏–∏ –æ—Ç–∫—Ä–æ–π—Ç–µ DevTools ‚Üí Network:
- –§–∏–ª—å—Ç—Ä: `.ts` (—Å–µ–≥–º–µ–Ω—Ç—ã –≤–∏–¥–µ–æ)
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ä–∞–∑–º–µ—Ä –∑–∞–≥—Ä—É–∂–µ–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–ø—Ä–æ—Å–æ–≤

### 4. –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –Ω–∞ —É—Ä–æ–≤–Ω–µ CDN

–ï—Å–ª–∏ —É –≤–∞—Å –µ—Å—Ç—å –¥–æ—Å—Ç—É–ø –∫ –ø–∞–Ω–µ–ª–∏ CDN (CloudFront, Cloudflare, etc.):
- –û—Ç—Å–ª–µ–∂–∏–≤–∞–π—Ç–µ bandwidth –ø–æ URL –ø–∞—Ç—Ç–µ—Ä–Ω–∞–º
- –ê–Ω–∞–ª–∏–∑–∏—Ä—É–π—Ç–µ cache hit ratio
- –ü—Ä–æ–≤–µ—Ä—è–π—Ç–µ –≥–µ–æ–≥—Ä–∞—Ñ–∏—á–µ—Å–∫–æ–µ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ç—Ä–∞—Ñ–∏–∫–∞

## –û–∂–∏–¥–∞–µ–º—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã

### –î–æ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ (—Å expo-av)
- –ó–∞–≥—Ä—É–∑–∫–∞ –¥–æ –Ω–∞—á–∞–ª–∞ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è: –≤–µ—Å—å —Ñ–∞–π–ª –∏–ª–∏ –±–æ–ª—å—à–∞—è –µ–≥–æ —á–∞—Å—Ç—å
- –ë—É—Ñ–µ—Ä–∏–∑–∞—Ü–∏—è: –±–µ—Å–∫–æ–Ω—Ç—Ä–æ–ª—å–Ω–∞—è
- –°—Ä–µ–¥–Ω–∏–π —Ç—Ä–∞—Ñ–∏–∫: ~50-100 MB –Ω–∞ 5-–º–∏–Ω—É—Ç–Ω–æ–µ –≤–∏–¥–µ–æ

### –ü–æ—Å–ª–µ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ (—Å react-native-video + HLS)
- –ó–∞–≥—Ä—É–∑–∫–∞ –¥–æ –Ω–∞—á–∞–ª–∞ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è: ~500-1000 KB (–ø–µ—Ä–≤—ã–µ —Å–µ–≥–º–µ–Ω—Ç—ã)
- –ë—É—Ñ–µ—Ä–∏–∑–∞—Ü–∏—è: 4-6 —Å–µ–∫—É–Ω–¥ –≤–ø–µ—Ä–µ–¥
- –°—Ä–µ–¥–Ω–∏–π —Ç—Ä–∞—Ñ–∏–∫: ~15-25 MB –Ω–∞ 5-–º–∏–Ω—É—Ç–Ω–æ–µ –≤–∏–¥–µ–æ (720p)
- **–≠–∫–æ–Ω–æ–º–∏—è: ~60-75%**

## –ß–∞—Å—Ç—ã–µ –ø—Ä–æ–±–ª–µ–º—ã –∏ —Ä–µ—à–µ–Ω–∏—è

### –ü—Ä–æ–±–ª–µ–º–∞: –í–∏–¥–µ–æ –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç –∑–∞–≥—Ä—É–∂–∞—Ç—å—Å—è, –¥–∞–∂–µ –∫–æ–≥–¥–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ —Å–º–æ—Ç—Ä–∏—Ç

**–°–∏–º–ø—Ç–æ–º:**
```
[DataUsage abc12345] üì¶ Buffer update
  bufferAheadSeconds: 15  // –ü–õ–û–•–û!
```

**–†–µ—à–µ–Ω–∏–µ:**
1. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ `paused={!isActive}` —Ä–∞–±–æ—Ç–∞–µ—Ç
2. –£–º–µ–Ω—å—à–∏—Ç–µ `maxBufferMs` –¥–æ 4000-5000
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ —Ç—Ä–µ–∫–µ—Ä –æ—Ç–∫–ª—é—á–∞–µ—Ç—Å—è: `enabled: isActive && isTabFocused`

### –ü—Ä–æ–±–ª–µ–º–∞: –ß–∞—Å—Ç—ã–µ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è –∫–∞—á–µ—Å—Ç–≤–∞ (–±—É—Ñ–µ—Ä–∏–∑–∞—Ü–∏—è)

**–°–∏–º–ø—Ç–æ–º:**
```
üîÑ Bandwidth update ‚¨ÜÔ∏è UPGRADED
üîÑ Bandwidth update ‚¨áÔ∏è DOWNGRADED (–ø–æ–≤—Ç–æ—Ä—è–µ—Ç—Å—è)
```

**–†–µ—à–µ–Ω–∏–µ:**
1. –£–≤–µ–ª–∏—á—å—Ç–µ `minBufferMs` –¥–æ 3000-3500
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å –∏–Ω—Ç–µ—Ä–Ω–µ—Ç-—Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
3. –†–∞—Å—Å–º–æ—Ç—Ä–∏—Ç–µ –±–æ–ª–µ–µ –∫–æ–Ω—Å–µ—Ä–≤–∞—Ç–∏–≤–Ω—ã–π ABR –∞–ª–≥–æ—Ä–∏—Ç–º –Ω–∞ –±—ç–∫–µ–Ω–¥–µ

### –ü—Ä–æ–±–ª–µ–º–∞: –í—ã—Å–æ–∫–∏–π —Ç—Ä–∞—Ñ–∏–∫ –ø—Ä–∏ –ø–µ—Ä–µ–º–æ—Ç–∫–µ

**–°–∏–º–ø—Ç–æ–º:**
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø–µ—Ä–µ–º–∞—Ç—ã–≤–∞–µ—Ç –≤–ø–µ—Ä–µ–¥ ‚Üí –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –º–Ω–æ–≥–æ –¥–∞–Ω–Ω—ã—Ö.

**–†–µ—à–µ–Ω–∏–µ:**
1. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –ø—Ä–∏ –ø–µ—Ä–µ–º–æ—Ç–∫–µ —Å—Ç–∞—Ä—ã–π –±—É—Ñ–µ—Ä —Å–±—Ä–∞—Å—ã–≤–∞–µ—Ç—Å—è
2. –õ–æ–≥–∏—Ä—É–π—Ç–µ —Å–æ–±—ã—Ç–∏—è seek:
```typescript
onSeek={(data) => {
  console.log('Seek to:', data.seekTime);
}}
```

## –ö–æ–Ω—Ç—Ä–æ–ª—å–Ω—ã–π —Å–ø–∏—Å–æ–∫ –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏

- [ ] `maxBufferMs` —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –Ω–∞ 6000 –∏–ª–∏ –º–µ–Ω—å—à–µ
- [ ] `maxBitRate` –æ–≥—Ä–∞–Ω–∏—á–µ–Ω (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è 2000000)
- [ ] –¢—Ä–µ–∫–µ—Ä –¥–∞–Ω–Ω—ã—Ö –ø–æ–¥–∫–ª—é—á–µ–Ω –∫ –æ–±–æ–∏–º –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º
- [ ] –õ–æ–≥–∏ –≤—ã–≤–æ–¥—è—Ç—Å—è –∏ —á–∏—Ç–∞–µ–º—ã
- [ ] –í–∏–¥–µ–æ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –∫–æ–≥–¥–∞ `shouldLoad === true`
- [ ] `bufferAheadSeconds` –æ–±—ã—á–Ω–æ < 6
- [ ] –°—Ä–µ–¥–Ω–∏–π —Ç—Ä–∞—Ñ–∏–∫ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –æ–∂–∏–¥–∞–Ω–∏—è–º (—Å–º. "–¶–µ–ª–µ–≤—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è")
- [ ] CDN –ø—Ä–∞–≤–∏–ª—å–Ω–æ –∫—ç—à–∏—Ä—É–µ—Ç —Å–µ–≥–º–µ–Ω—Ç—ã (–µ—Å–ª–∏ –ø—Ä–∏–º–µ–Ω–∏–º–æ)

## –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### 1. –°–∏–º—É–ª—è—Ü–∏—è –º–µ–¥–ª–µ–Ω–Ω–æ–≥–æ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–∞

**React Native:**
```bash
# iOS Simulator
xcrun simctl status_bar "iPhone 14" override --time "9:41" --dataNetwork 3g

# Android Emulator
adb shell settings put global mobile_data_always_on 0
```

**Chrome DevTools (Web):**
- Network ‚Üí Throttling ‚Üí Slow 3G / Fast 3G

### 2. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç—Ä–∞—Ñ–∏–∫–∞ –≤ production

–°–æ–∑–¥–∞–π—Ç–µ —Ç–µ—Å—Ç–æ–≤—É—é —Å–µ—Å—Å–∏—é:
1. –û—Ç–∫—Ä–æ–π—Ç–µ –≤–∏–¥–µ–æ
2. –ü—Ä–æ—Å–º–æ—Ç—Ä–∏—Ç–µ 1 –º–∏–Ω—É—Ç—É
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—á–µ—Ç—á–∏–∫ —Ç—Ä–∞—Ñ–∏–∫–∞
4. –û–∂–∏–¥–∞–µ–º–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ: 8-20 MB –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –∫–∞—á–µ—Å—Ç–≤–∞

### 3. –°—Ç—Ä–µ—Å—Å-—Ç–µ—Å—Ç: –±—ã—Å—Ç—Ä–æ–µ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –º–µ–∂–¥—É –≤–∏–¥–µ–æ

1. –û—Ç–∫—Ä–æ–π—Ç–µ –≤–∏–¥–µ–æ A ‚Üí –ø–æ–¥–æ–∂–¥–∏—Ç–µ 3 —Å–µ–∫
2. –ü–µ—Ä–µ–∫–ª—é—á–∏—Ç–µ—Å—å –Ω–∞ –≤–∏–¥–µ–æ B ‚Üí –ø–æ–¥–æ–∂–¥–∏—Ç–µ 3 —Å–µ–∫
3. –ü–µ—Ä–µ–∫–ª—é—á–∏—Ç–µ—Å—å –Ω–∞ –≤–∏–¥–µ–æ C ‚Üí –ø–æ–¥–æ–∂–¥–∏—Ç–µ 3 —Å–µ–∫
4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ - —Ç—Ä–µ–∫–µ—Ä –¥–æ–ª–∂–µ–Ω –ø—Ä–∞–≤–∏–ª—å–Ω–æ —Å–±—Ä–∞—Å—ã–≤–∞—Ç—å—Å—è

## –î–∞–ª—å–Ω–µ–π—à–∏–µ —É–ª—É—á—à–µ–Ω–∏—è

1. **–ê–Ω–∞–ª–∏—Ç–∏–∫–∞ –Ω–∞ –±—ç–∫–µ–Ω–¥–µ:**
   - –û—Ç–ø—Ä–∞–≤–ª—è—Ç—å –º–µ—Ç—Ä–∏–∫–∏ –ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏—è —Ç—Ä–∞—Ñ–∏–∫–∞
   - –ê–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å –ø–∞—Ç—Ç–µ—Ä–Ω—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
   - A/B —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–∞–∑–Ω—ã—Ö `maxBitRate`

2. **–ê–¥–∞–ø—Ç–∏–≤–Ω—ã–π maxBitRate:**
   ```typescript
   const maxBitRate = networkQuality === 'slow' ? 1000000 : 2000000;
   ```

3. **–ü—Ä–µ–¥–∑–∞–≥—Ä—É–∑–∫–∞ —Å–ª–µ–¥—É—é—â–µ–≥–æ –≤–∏–¥–µ–æ:**
   ```typescript
   // –ó–∞–≥—Ä—É–∂–∞—Ç—å —Ç–æ–ª—å–∫–æ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ —Å–ª–µ–¥—É—é—â–µ–≥–æ –≤–∏–¥–µ–æ, –Ω–æ –Ω–µ –∫–æ–Ω—Ç–µ–Ω—Ç
   <Video
     source={{ uri: nextVideoUrl }}
     paused={true}
     preload="metadata"
   />
   ```

4. **Offload –Ω–∞ edge (CDN):**
   - Video transcoding –Ω–∞ CDN (Cloudflare Stream, Mux, etc.)
   - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è bitrate –Ω–∞ —É—Ä–æ–≤–Ω–µ CDN

## –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã

- [react-native-video –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è](https://docs.thewidlarzgroup.com/react-native-video/)
- [HLS —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—è Apple](https://developer.apple.com/documentation/http-live-streaming)
- [Adaptive Bitrate Streaming Best Practices](https://developer.apple.com/documentation/http_live_streaming/about_apple_s_http_live_streaming_tools)
- [ExoPlayer (Android) Buffer Configuration](https://exoplayer.dev/customization.html)
